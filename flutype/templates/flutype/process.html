{% extends "flutype/base.html" %}
{% block content %}
    <!-- one process in detail -->
    <div  class="col-lg-12">
        <h2>Process: {{ process.sid }}</h2>
        {% if process.is_step_in_process() %}
            <table id="process" class="cell-border">
                {% with prosteps = process.processstep_set.all() %}
                    <thead>
                    <tr>
                        <th></th>
                        {% for prostep in prosteps %}
                            {% with p = prostep.step.get_step_type %}
                                {% if  p.__class__.__name__ == "Washing" %}
                                    <th><p> # {{ prostep.index + 1 }} <i class="fa fa-shower" aria-hidden="true"> </i>
                                    </p> {{ p.__class__.__name__ }}</th>
                                {% elif p.__class__.__name__ == "Drying" %}
                                    <th><p> # {{ prostep.index + 1 }} <i class="fa fa-bullhorn" aria-hidden="true"></i>
                                    </p>{{ p.__class__.__name__ }}</th>
                                {% elif p.__class__.__name__ == "Spotting" %}
                                    <th><p> # {{ prostep.index + 1 }} <i class="fa fa-anchor fa-fw"
                                                                         aria-hidden="true"></i>
                                    </p>{{ p.__class__.__name__ }} / Immobilization
                                    </th>
                                {% elif p.__class__.__name__ == "Quenching" %}
                                    <th><p> # {{ prostep.index + 1 }} <i class="fa fa-chain-broken"
                                                                         aria-hidden="true"></i>
                                    </p> {{ p.__class__.__name__ }}</th>
                                {% elif p.__class__.__name__ == "Incubating" %}
                                    <th><p> # {{ prostep.index + 1 }} <i class="fa fa-tint" aria-hidden="true"></i>
                                    </p> {{ p.__class__.__name__ }}</th>
                                {% elif p.__class__.__name__ == "Blocking" %}
                                    <th><p> # {{ prostep.index + 1 }} <i class="fa fa-pause" aria-hidden="true"></i>
                                    </p> {{ p.__class__.__name__ }}</th>
                                {% elif p.__class__.__name__ == "Scanning" %}
                                    <th><p> # {{ prostep.index + 1 }} <i class="fa fa-camera" aria-hidden="true"></i>
                                    </p> {{ p.__class__.__name__ }}</th>

                                {% endif %}
                            {% endwith %}
                        {% endfor %}
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th>Sid</th>
                        {% for prostep in prosteps %}
                            <td> {{ prostep.step.get_step_type.sid }}</td>
                        {% endfor %}
                    </tr>
                    <tr>
                        <th>Method</th>
                        {% for prostep in prosteps %}
                            <td> {{ prostep.step.get_step_type.method }}</td>
                        {% endfor %}
                    </tr>
                    <tr>
                        <th>Substance</th>
                        {% for prostep in prosteps %}
                            {% if  prostep.step.get_step_type.substance %}
                                <td> {{ prostep.step.get_step_type.substance }}</td>
                            {% else %}
                                <td></td>
                            {% endif %}
                        {% endfor %}
                    </tr>
                    <tr>
                        <th>Duration</th>
                        {% for prostep in prosteps %}
                            {% if  prostep.step.get_step_type.duration %}
                                <td> {{ prostep.step.get_step_type.duration }}</td>
                            {% else %}
                                <td></td>
                            {% endif %}
                        {% endfor %}
                    </tr>
                    </tbody>
                {% endwith %}
            </table>
        {% else %}
            No process steps avialable for {{ process.sid }} process.
        {% endif %}
    </div>
{% endblock %}

{% block javascript %}
    <script type="text/javascript" charset="utf-8">
        $(document).ready(function () {
            $('#process').DataTable({
                searching: false,
                paging: false,
                info: false,
                "order": []
            });
        });
    </script>
{% endblock %}